2025-12-03 17:08:21,629 - INFO - 127.0.0.1 - - [03/Dec/2025 17:08:21] "GET /api/reports/monthly/2025-10 HTTP/1.1" 200 -
2025-12-03 17:10:11,775 - INFO - 127.0.0.1 - - [03/Dec/2025 17:10:11] "GET /api/files HTTP/1.1" 200 -
2025-12-03 17:14:41,470 - INFO - å¯åŠ¨WebæœåŠ¡å™¨...
2025-12-03 17:14:41,470 - INFO - æ•°æ®åº“è·¯å¾„: data/wecom_bot.db
2025-12-03 17:14:41,471 - INFO - ä¸Šä¼ ç›®å½•: file
2025-12-03 17:14:41,471 - INFO - æ¸…ç†æ—§çš„ä¸´æ—¶æ–‡ä»¶...
2025-12-03 17:14:41,472 - INFO - æ— éœ€æ¸…ç†ï¼Œæ‰€æœ‰æ–‡ä»¶éƒ½åœ¨ 30 å¤©å†…
2025-12-03 17:14:41,481 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://133.0.83.100:5000
2025-12-03 17:14:41,481 - INFO - [33mPress CTRL+C to quit[0m
2025-12-03 17:18:02,575 - INFO - 127.0.0.1 - - [03/Dec/2025 17:18:02] "GET / HTTP/1.1" 200 -
2025-12-03 17:18:02,629 - INFO - 127.0.0.1 - - [03/Dec/2025 17:18:02] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-12-03 17:18:02,824 - INFO - 127.0.0.1 - - [03/Dec/2025 17:18:02] "[36mGET /static/js/app.js HTTP/1.1[0m" 304 -
2025-12-03 17:18:03,174 - INFO - æ•°æ®åº“è¿æ¥å·²å»ºç«‹ï¼Œå¯ç”¨ WAL æ¨¡å¼: data/wecom_bot.db
2025-12-03 17:18:03,175 - INFO - æ•°æ®åº“åˆå§‹åŒ–æˆåŠŸ: data/wecom_bot.db
2025-12-03 17:18:03,175 - INFO - æ•°æ®åº“è¿æ¥å·²å…³é—­
2025-12-03 17:18:03,175 - INFO - 127.0.0.1 - - [03/Dec/2025 17:18:03] "GET /api/team-leaders HTTP/1.1" 200 -
2025-12-03 17:18:03,359 - INFO - 127.0.0.1 - - [03/Dec/2025 17:18:03] "GET /api/schedule/status HTTP/1.1" 200 -
2025-12-03 17:18:03,372 - INFO - 127.0.0.1 - - [03/Dec/2025 17:18:03] "GET /api/files HTTP/1.1" 200 -
2025-12-03 17:18:57,343 - INFO - æ•°æ®åº“è¿æ¥å·²å»ºç«‹ï¼Œå¯ç”¨ WAL æ¨¡å¼: data/wecom_bot.db
2025-12-03 17:18:57,343 - INFO - æ•°æ®åº“åˆå§‹åŒ–æˆåŠŸ: data/wecom_bot.db
2025-12-03 17:18:57,345 - INFO - æ•°æ®åº“è¿æ¥å·²å…³é—­
2025-12-03 17:18:57,345 - INFO - 127.0.0.1 - - [03/Dec/2025 17:18:57] "GET /api/reports/monthly/2025-11 HTTP/1.1" 200 -
2025-12-03 17:19:40,202 - INFO - æ•°æ®åº“è¿æ¥å·²å»ºç«‹ï¼Œå¯ç”¨ WAL æ¨¡å¼: data/wecom_bot.db
2025-12-03 17:19:40,202 - INFO - æ•°æ®åº“åˆå§‹åŒ–æˆåŠŸ: data/wecom_bot.db
2025-12-03 17:19:40,203 - INFO - æ•°æ®åº“è¿æ¥å·²å…³é—­
2025-12-03 17:19:40,203 - INFO - 127.0.0.1 - - [03/Dec/2025 17:19:40] "GET /api/reports/monthly/2025-10 HTTP/1.1" 200 -
2025-12-03 17:24:07,225 - INFO - å¯åŠ¨WebæœåŠ¡å™¨...
2025-12-03 17:24:07,225 - INFO - æ•°æ®åº“è·¯å¾„: data/wecom_bot.db
2025-12-03 17:24:07,226 - INFO - ä¸Šä¼ ç›®å½•: file
2025-12-03 17:24:07,226 - INFO - æ¸…ç†æ—§çš„ä¸´æ—¶æ–‡ä»¶...
2025-12-03 17:24:07,227 - INFO - æ— éœ€æ¸…ç†ï¼Œæ‰€æœ‰æ–‡ä»¶éƒ½åœ¨ 30 å¤©å†…
2025-12-03 17:24:07,239 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://133.0.83.100:5000
2025-12-03 17:24:07,239 - INFO - [33mPress CTRL+C to quit[0m
2025-12-03 17:24:15,527 - INFO - å·²åˆ›å»ºå®šæ—¶ä»»åŠ¡: æ¯å¤© 10:00 æ‰§è¡Œ
2025-12-03 17:24:15,527 - INFO - å®šæ—¶ä»»åŠ¡è°ƒåº¦å™¨çº¿ç¨‹å·²å¯åŠ¨
2025-12-03 17:24:15,527 - INFO - å®šæ—¶ä»»åŠ¡è°ƒåº¦å™¨å·²å¯åŠ¨
2025-12-03 17:24:15,528 - INFO - 127.0.0.1 - - [03/Dec/2025 17:24:15] "POST /api/schedule/update HTTP/1.1" 200 -
2025-12-03 17:24:23,597 - INFO - å®šæ—¶ä»»åŠ¡è°ƒåº¦å™¨çº¿ç¨‹å·²åœæ­¢
2025-12-03 17:24:23,597 - INFO - å®šæ—¶ä»»åŠ¡è°ƒåº¦å™¨å·²åœæ­¢
2025-12-03 17:24:23,597 - INFO - å®šæ—¶ä»»åŠ¡å·²åœç”¨
2025-12-03 17:24:23,598 - INFO - 127.0.0.1 - - [03/Dec/2025 17:24:23] "POST /api/schedule/update HTTP/1.1" 200 -
2025-12-03 17:25:31,705 - INFO - 127.0.0.1 - - [03/Dec/2025 17:25:31] "GET /api/files HTTP/1.1" 200 -
2025-12-03 17:26:30,285 - INFO - æ•°æ®åº“è¿æ¥å·²å»ºç«‹ï¼Œå¯ç”¨ WAL æ¨¡å¼: data/wecom_bot.db
2025-12-03 17:26:30,285 - INFO - æ•°æ®åº“åˆå§‹åŒ–æˆåŠŸ: data/wecom_bot.db
2025-12-03 17:26:30,286 - INFO - æ•°æ®åº“è¿æ¥å·²å…³é—­
2025-12-03 17:26:30,286 - INFO - 127.0.0.1 - - [03/Dec/2025 17:26:30] "GET /api/reports/monthly/2025-12 HTTP/1.1" 200 -
2025-12-04 08:45:51,940 - INFO - å¯åŠ¨WebæœåŠ¡å™¨...
2025-12-04 08:45:51,940 - INFO - æ•°æ®åº“è·¯å¾„: data/wecom_bot.db
2025-12-04 08:45:51,941 - INFO - ä¸Šä¼ ç›®å½•: file
2025-12-04 08:45:51,941 - INFO - æ¸…ç†æ—§çš„ä¸´æ—¶æ–‡ä»¶...
2025-12-04 08:45:51,941 - INFO - æ— éœ€æ¸…ç†ï¼Œæ‰€æœ‰æ–‡ä»¶éƒ½åœ¨ 30 å¤©å†…
2025-12-04 08:45:51,972 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://133.0.83.100:5000
2025-12-04 08:45:51,973 - INFO - [33mPress CTRL+C to quit[0m
2025-12-04 08:45:56,443 - INFO - 127.0.0.1 - - [04/Dec/2025 08:45:56] "GET / HTTP/1.1" 200 -
2025-12-04 08:45:56,522 - INFO - 127.0.0.1 - - [04/Dec/2025 08:45:56] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-12-04 08:45:56,761 - INFO - 127.0.0.1 - - [04/Dec/2025 08:45:56] "[36mGET /static/js/app.js HTTP/1.1[0m" 304 -
2025-12-04 08:45:57,268 - INFO - æ•°æ®åº“è¿æ¥å·²å»ºç«‹ï¼Œå¯ç”¨ WAL æ¨¡å¼: data/wecom_bot.db
2025-12-04 08:45:57,269 - INFO - æ•°æ®åº“åˆå§‹åŒ–æˆåŠŸ: data/wecom_bot.db
2025-12-04 08:45:57,272 - INFO - æ•°æ®åº“è¿æ¥å·²å…³é—­
2025-12-04 08:45:57,273 - INFO - 127.0.0.1 - - [04/Dec/2025 08:45:57] "GET /api/team-leaders HTTP/1.1" 200 -
2025-12-04 08:45:57,320 - INFO - 127.0.0.1 - - [04/Dec/2025 08:45:57] "GET /api/files HTTP/1.1" 200 -
2025-12-04 08:45:57,366 - INFO - 127.0.0.1 - - [04/Dec/2025 08:45:57] "GET /api/schedule/status HTTP/1.1" 200 -
2025-12-04 08:46:21,440 - INFO - å·²åŠ è½½ 13 ä¸ªå›¢é˜Ÿæ˜ å°„
2025-12-04 08:46:21,441 - INFO - æ•°æ®åº“è¿æ¥å·²å»ºç«‹ï¼Œå¯ç”¨ WAL æ¨¡å¼: data/wecom_bot.db
2025-12-04 08:46:21,441 - INFO - æ•°æ®åº“åˆå§‹åŒ–æˆåŠŸ: data/wecom_bot.db
2025-12-04 08:46:21,443 - INFO - æ–‡ä»¶å·²ä¿å­˜: file\KF77100064_20251204084446476.zip
2025-12-04 08:46:21,446 - INFO - æ­£åœ¨å¤„ç†æ–‡ä»¶: KF77100064_20251204084446476.zip
2025-12-04 08:46:23,608 - INFO - æ£€æµ‹åˆ°ç¼–ç : GB2312
2025-12-04 08:46:23,609 - INFO - æˆåŠŸä½¿ç”¨ç¼–ç : gbk
2025-12-04 08:46:23,610 - INFO - CSVæ ‡é¢˜: ['æœåŠ¡å', 'å¸å·', 'å§“å', 'æ¨¡å—', 'æ–¹æ³•æè¿°', 'æ“ä½œæ—¶é—´', 'è€—æ—¶', 'è¯·æ±‚url', 'çŠ¶æ€', 'å…¥å‚']
2025-12-04 08:46:23,619 - INFO - æ­£åœ¨ä¿å­˜ 1081 æ¡è®°å½•åˆ°æ•°æ®åº“...
2025-12-04 08:46:24,407 - INFO - æ‰¹é‡æ’å…¥å®Œæˆï¼ŒæˆåŠŸ: 1022/1081ï¼Œè·³è¿‡é‡å¤: 59
2025-12-04 08:46:24,407 - INFO - æ­£åœ¨æ›´æ–°æ—¥æ±‡æ€»: 2025-12-03
2025-12-04 08:46:24,411 - INFO - æ—¥æ±‡æ€»æ›´æ–°æˆåŠŸ: 2025-12-03
2025-12-04 08:46:24,411 - INFO - æ­£åœ¨æ›´æ–°æœˆæ±‡æ€»: 2025-12
2025-12-04 08:46:24,432 - ERROR - æ›´æ–°æœˆæ±‡æ€»å¤±è´¥: UNIQUE constraint failed: monthly_summary.year_month, monthly_summary.account
2025-12-04 08:46:24,432 - INFO - generate_report function called
2025-12-04 08:46:24,432 - INFO - report_data: {('ä¸€ç­3ç»„', 'å‘¨ä¸½å©·', 'KF77130099'): 11, ('ä¸€ç­3ç»„', 'å†œè¯—çª', 'KF77130101'): 22, ('äºŒç­2ç»„', 'ææ–°ç£Š', 'KF77130170'): 22, ('äºŒç­2ç»„', 'æ½˜é›ªåªš', 'KF77130234'): 28, ('ä¸€ç­1ç»„', 'é™ˆå¤å…°', 'KF77100020'): 15, ('äºŒç­1ç»„', 'é»„åˆšåˆš', 'KF77130134'): 25, ('ä¸€ç­1ç»„', 'éŸ¦æ™–', 'KF77130095'): 1, ('äºŒç­2ç»„', 'ä½•çµ', 'KF77171520'): 13, ('äºŒç­1ç»„', 'æ¨æ™¨æµ©', 'KF77130230'): 36}
2025-12-04 08:46:24,432 - INFO - report_date: 2025-12-03
2025-12-04 08:46:24,433 - INFO - total_operations: 173
2025-12-04 08:46:24,433 - INFO - ç”Ÿæˆçš„æ±‡æ€»ä¿¡æ¯æ–‡æœ¬: ['ğŸ“Š å¬å½•éŸ³ç»Ÿè®¡æŠ¥è¡¨', 'ğŸ“… æ—¥æœŸ: 2025-12-03', '', '## ğŸ“ˆ æ±‡æ€»ä¿¡æ¯', '- **æ€»å¬å½•éŸ³æ¬¡æ•°**: 173', '- **å‚ä¸äººæ•°**: 9', '- **å¹³å‡æ¯äººå¬å½•éŸ³æ¬¡æ•°**: 19.2', '']
2025-12-04 08:46:24,433 - INFO - æ±‡æ€»ä¿¡æ¯å·²ä¿å­˜åˆ°: file\summary_20251203.txt
2025-12-04 08:46:24,434 - INFO - Generating image report...
2025-12-04 08:46:24,434 - INFO - PIL is available.
2025-12-04 08:46:24,515 - INFO - Saving image to file\table_20251203.png
2025-12-04 08:46:24,560 - INFO - Image saved to file\table_20251203.png
2025-12-04 08:46:24,561 - INFO - Saving JPEG version to file\table_20251203.jpg
2025-12-04 08:46:24,566 - INFO - JPEG version saved to file\table_20251203.jpg
2025-12-04 08:46:24,567 - INFO - è¡¨æ ¼å›¾ç‰‡å·²ä¿å­˜åˆ°: file\table_20251203.png
2025-12-04 08:46:24,568 - INFO - æ•°æ®åº“è¿æ¥å·²å…³é—­
2025-12-04 08:46:24,568 - INFO - 127.0.0.1 - - [04/Dec/2025 08:46:24] "POST /api/upload HTTP/1.1" 200 -
2025-12-04 08:46:24,890 - INFO - 127.0.0.1 - - [04/Dec/2025 08:46:24] "GET /api/files HTTP/1.1" 200 -
2025-12-04 08:46:32,699 - INFO - æ•°æ®åº“è¿æ¥å·²å»ºç«‹ï¼Œå¯ç”¨ WAL æ¨¡å¼: data/wecom_bot.db
2025-12-04 08:46:32,699 - INFO - æ•°æ®åº“åˆå§‹åŒ–æˆåŠŸ: data/wecom_bot.db
2025-12-04 08:46:32,700 - INFO - æ•°æ®åº“è¿æ¥å·²å…³é—­
2025-12-04 08:46:32,700 - INFO - 127.0.0.1 - - [04/Dec/2025 08:46:32] "GET /api/reports/daily/2025-12-03 HTTP/1.1" 200 -
2025-12-04 08:47:10,627 - INFO - æ•°æ®åº“è¿æ¥å·²å»ºç«‹ï¼Œå¯ç”¨ WAL æ¨¡å¼: data/wecom_bot.db
2025-12-04 08:47:10,628 - INFO - æ•°æ®åº“åˆå§‹åŒ–æˆåŠŸ: data/wecom_bot.db
2025-12-04 08:47:10,633 - INFO - æ•°æ®åº“è¿æ¥å·²å…³é—­
2025-12-04 08:47:10,634 - INFO - 127.0.0.1 - - [04/Dec/2025 08:47:10] "GET /api/reports/daily/2025-12-02 HTTP/1.1" 200 -
2025-12-04 08:47:20,291 - INFO - æ•°æ®åº“è¿æ¥å·²å»ºç«‹ï¼Œå¯ç”¨ WAL æ¨¡å¼: data/wecom_bot.db
2025-12-04 08:47:20,292 - INFO - æ•°æ®åº“åˆå§‹åŒ–æˆåŠŸ: data/wecom_bot.db
2025-12-04 08:47:20,292 - INFO - æ•°æ®åº“è¿æ¥å·²å…³é—­
2025-12-04 08:47:20,293 - INFO - 127.0.0.1 - - [04/Dec/2025 08:47:20] "GET /api/reports/daily/2025-12-03 HTTP/1.1" 200 -
2025-12-04 08:47:36,891 - INFO - å·²åˆ›å»ºå®šæ—¶ä»»åŠ¡: æ¯å¤© 10:00 æ‰§è¡Œ
2025-12-04 08:47:36,891 - INFO - å®šæ—¶ä»»åŠ¡è°ƒåº¦å™¨çº¿ç¨‹å·²å¯åŠ¨
2025-12-04 08:47:36,892 - INFO - å®šæ—¶ä»»åŠ¡è°ƒåº¦å™¨å·²å¯åŠ¨
2025-12-04 08:47:36,892 - INFO - 127.0.0.1 - - [04/Dec/2025 08:47:36] "POST /api/schedule/update HTTP/1.1" 200 -
2025-12-04 08:47:43,361 - INFO - æ”¶åˆ°å‘é€è¯·æ±‚ - æ—¥æœŸ: 2025-12-04, ç¯å¢ƒ: test
2025-12-04 08:47:43,361 - INFO - ç¯å¢ƒ: test, ä½¿ç”¨webhook: https://qyapi.weixin.qq.com/cgi-bin/webhook/send?key=afa40fa...
2025-12-04 08:47:43,361 - INFO - å‡†å¤‡å‘é€åˆ°æµ‹è¯•ç¯å¢ƒ
2025-12-04 08:47:43,362 - INFO - æ•°æ®åº“è¿æ¥å·²å»ºç«‹ï¼Œå¯ç”¨ WAL æ¨¡å¼: data/wecom_bot.db
2025-12-04 08:47:43,362 - INFO - æ•°æ®åº“åˆå§‹åŒ–æˆåŠŸ: data/wecom_bot.db
2025-12-04 08:47:43,369 - INFO - å·²åŠ è½½ 13 ä¸ªå›¢é˜Ÿæ˜ å°„
2025-12-04 08:47:43,370 - INFO - æ•°æ®åº“è¿æ¥å·²å…³é—­
2025-12-04 08:47:43,370 - INFO - 127.0.0.1 - - [04/Dec/2025 08:47:43] "[33mPOST /api/send-to-wecom HTTP/1.1[0m" 404 -
2025-12-04 08:47:48,304 - INFO - æ”¶åˆ°å‘é€è¯·æ±‚ - æ—¥æœŸ: 2025-12-03, ç¯å¢ƒ: test
2025-12-04 08:47:48,305 - INFO - ç¯å¢ƒ: test, ä½¿ç”¨webhook: https://qyapi.weixin.qq.com/cgi-bin/webhook/send?key=afa40fa...
2025-12-04 08:47:48,305 - INFO - å‡†å¤‡å‘é€åˆ°æµ‹è¯•ç¯å¢ƒ
2025-12-04 08:47:48,306 - INFO - æ•°æ®åº“è¿æ¥å·²å»ºç«‹ï¼Œå¯ç”¨ WAL æ¨¡å¼: data/wecom_bot.db
2025-12-04 08:47:48,307 - INFO - æ•°æ®åº“åˆå§‹åŒ–æˆåŠŸ: data/wecom_bot.db
2025-12-04 08:47:48,319 - INFO - å·²åŠ è½½ 13 ä¸ªå›¢é˜Ÿæ˜ å°„
2025-12-04 08:47:48,321 - INFO - generate_report function called
2025-12-04 08:47:48,321 - INFO - report_data: {('äºŒç­1ç»„', 'æ¨æ™¨æµ©', 'KF77130230'): 36, ('äºŒç­2ç»„', 'æ½˜é›ªåªš', 'KF77130234'): 28, ('äºŒç­1ç»„', 'é»„åˆšåˆš', 'KF77130134'): 25, ('ä¸€ç­3ç»„', 'å†œè¯—çª', 'KF77130101'): 22, ('äºŒç­2ç»„', 'ææ–°ç£Š', 'KF77130170'): 22, ('ä¸€ç­1ç»„', 'é™ˆå¤å…°', 'KF77100020'): 15, ('ä¸€ç­3ç»„', 'å‘¨ä¸½å©·', 'KF77130099'): 11, ('ä¸€ç­1ç»„', 'éŸ¦æ™–', 'KF77130095'): 1}
2025-12-04 08:47:48,322 - INFO - report_date: 2025-12-03
2025-12-04 08:47:48,322 - INFO - total_operations: 160
2025-12-04 08:47:48,322 - INFO - ç”Ÿæˆçš„æ±‡æ€»ä¿¡æ¯æ–‡æœ¬: ['ğŸ“Š å¬å½•éŸ³ç»Ÿè®¡æŠ¥è¡¨', 'ğŸ“… æ—¥æœŸ: 2025-12-03', '', '## ğŸ“ˆ æ±‡æ€»ä¿¡æ¯', '- **æ€»å¬å½•éŸ³æ¬¡æ•°**: 160', '- **å‚ä¸äººæ•°**: 8', '- **å¹³å‡æ¯äººå¬å½•éŸ³æ¬¡æ•°**: 20.0', '']
2025-12-04 08:47:48,324 - INFO - æ±‡æ€»ä¿¡æ¯å·²ä¿å­˜åˆ°: file\summary_20251203.txt
2025-12-04 08:47:48,324 - INFO - Generating image report...
2025-12-04 08:47:48,324 - INFO - PIL is available.
2025-12-04 08:47:48,439 - INFO - Saving image to file\table_20251203.png
2025-12-04 08:47:48,460 - INFO - Image saved to file\table_20251203.png
2025-12-04 08:47:48,460 - INFO - Saving JPEG version to file\table_20251203.jpg
2025-12-04 08:47:48,464 - INFO - JPEG version saved to file\table_20251203.jpg
2025-12-04 08:47:48,465 - INFO - è¡¨æ ¼å›¾ç‰‡å·²ä¿å­˜åˆ°: file\table_20251203.png
2025-12-04 08:47:48,465 - INFO - æ£€æµ‹åˆ°å›¾ç‰‡æŠ¥è¡¨ï¼Œå‡†å¤‡å‘é€å›¾ç‰‡
2025-12-04 08:47:48,465 - INFO - ä½¿ç”¨JPEGæ ¼å¼å›¾ç‰‡: file\table_20251203.jpg
2025-12-04 08:47:48,465 - INFO - ä¸Šä¼ å›¾ç‰‡è·å–media_id...
2025-12-04 08:47:48,958 - ERROR - å›¾ç‰‡ä¸Šä¼ å¤±è´¥ï¼ˆæ–¹å¼1ï¼‰: {'errcode': 40004, 'errmsg': 'invalid media type, hint: [1764809269189711632583622], from ip: 121.31.60.243, more info at https://open.work.weixin.qq.com/devtool/query?e=40004'}
2025-12-04 08:47:48,958 - ERROR - å›¾ç‰‡ä¸Šä¼ å¼‚å¸¸ï¼ˆæ–¹å¼2ï¼‰: list index out of range
2025-12-04 08:47:49,514 - INFO - å›¾ç‰‡ä¸Šä¼ æˆåŠŸï¼ˆæ–¹å¼3ï¼‰ï¼Œä½¿ç”¨base64æ–¹å¼
2025-12-04 08:47:49,514 - INFO - å›¾ç‰‡æŠ¥è¡¨å‘é€æˆåŠŸï¼ˆbase64æ–¹å¼ï¼‰
2025-12-04 08:47:49,514 - INFO - âœ“ æŠ¥è¡¨æˆåŠŸå‘é€åˆ°æµ‹è¯•ç¯å¢ƒ (webhook: https://qyapi.weixin.qq.com/cgi-bin/webhook/send?key=afa40fa...)
2025-12-04 08:47:49,515 - INFO - æ•°æ®åº“è¿æ¥å·²å…³é—­
2025-12-04 08:47:49,516 - INFO - 127.0.0.1 - - [04/Dec/2025 08:47:49] "POST /api/send-to-wecom HTTP/1.1" 200 -
2025-12-04 08:48:30,639 - INFO - å®šæ—¶ä»»åŠ¡è°ƒåº¦å™¨çº¿ç¨‹å·²åœæ­¢
2025-12-04 08:48:30,639 - INFO - å®šæ—¶ä»»åŠ¡è°ƒåº¦å™¨å·²åœæ­¢
2025-12-04 08:48:30,639 - INFO - å®šæ—¶ä»»åŠ¡å·²åœç”¨
2025-12-04 08:48:30,640 - INFO - 127.0.0.1 - - [04/Dec/2025 08:48:30] "POST /api/schedule/update HTTP/1.1" 200 -
2025-12-04 08:53:20,564 - INFO - æ•°æ®åº“è¿æ¥å·²å»ºç«‹ï¼Œå¯ç”¨ WAL æ¨¡å¼: data/wecom_bot.db
2025-12-04 08:53:20,564 - INFO - æ•°æ®åº“åˆå§‹åŒ–æˆåŠŸ: data/wecom_bot.db
2025-12-04 08:53:20,565 - INFO - æ•°æ®åº“è¿æ¥å·²å…³é—­
2025-12-04 08:53:20,565 - INFO - 127.0.0.1 - - [04/Dec/2025 08:53:20] "GET /api/reports/daily/2025-12-03 HTTP/1.1" 200 -
2025-12-04 09:05:23,912 - INFO - æ•°æ®åº“è¿æ¥å·²å»ºç«‹ï¼Œå¯ç”¨ WAL æ¨¡å¼: data/wecom_bot.db
2025-12-04 09:05:23,912 - INFO - æ•°æ®åº“åˆå§‹åŒ–æˆåŠŸ: data/wecom_bot.db
2025-12-04 09:05:23,912 - INFO - æ•°æ®åº“è¿æ¥å·²å…³é—­
2025-12-04 09:05:23,913 - INFO - 127.0.0.1 - - [04/Dec/2025 09:05:23] "GET /api/reports/daily/2025-12-03 HTTP/1.1" 200 -
2025-12-04 09:05:31,763 - INFO - æ•°æ®åº“è¿æ¥å·²å»ºç«‹ï¼Œå¯ç”¨ WAL æ¨¡å¼: data/wecom_bot.db
2025-12-04 09:05:31,763 - INFO - æ•°æ®åº“åˆå§‹åŒ–æˆåŠŸ: data/wecom_bot.db
2025-12-04 09:05:31,764 - INFO - æ•°æ®åº“è¿æ¥å·²å…³é—­
2025-12-04 09:05:31,764 - INFO - 127.0.0.1 - - [04/Dec/2025 09:05:31] "GET /api/reports/daily/2025-12-02 HTTP/1.1" 200 -
2025-12-04 09:05:42,784 - INFO - æ”¶åˆ°å‘é€è¯·æ±‚ - æ—¥æœŸ: 2025-12-03, ç¯å¢ƒ: test
2025-12-04 09:05:42,784 - INFO - ç¯å¢ƒ: test, ä½¿ç”¨webhook: https://qyapi.weixin.qq.com/cgi-bin/webhook/send?key=afa40fa...
2025-12-04 09:05:42,784 - INFO - å‡†å¤‡å‘é€åˆ°æµ‹è¯•ç¯å¢ƒ
2025-12-04 09:05:42,785 - INFO - æ•°æ®åº“è¿æ¥å·²å»ºç«‹ï¼Œå¯ç”¨ WAL æ¨¡å¼: data/wecom_bot.db
2025-12-04 09:05:42,785 - INFO - æ•°æ®åº“åˆå§‹åŒ–æˆåŠŸ: data/wecom_bot.db
2025-12-04 09:05:42,793 - INFO - å·²åŠ è½½ 13 ä¸ªå›¢é˜Ÿæ˜ å°„
2025-12-04 09:05:42,794 - INFO - generate_report function called
2025-12-04 09:05:42,794 - INFO - report_data: {('äºŒç­1ç»„', 'æ¨æ™¨æµ©', 'KF77130230'): 36, ('äºŒç­2ç»„', 'æ½˜é›ªåªš', 'KF77130234'): 28, ('äºŒç­1ç»„', 'é»„åˆšåˆš', 'KF77130134'): 25, ('ä¸€ç­3ç»„', 'å†œè¯—çª', 'KF77130101'): 22, ('äºŒç­2ç»„', 'ææ–°ç£Š', 'KF77130170'): 22, ('ä¸€ç­1ç»„', 'é™ˆå¤å…°', 'KF77100020'): 15, ('ä¸€ç­3ç»„', 'å‘¨ä¸½å©·', 'KF77130099'): 11, ('ä¸€ç­1ç»„', 'éŸ¦æ™–', 'KF77130095'): 1}
2025-12-04 09:05:42,794 - INFO - report_date: 2025-12-03
2025-12-04 09:05:42,794 - INFO - total_operations: 160
2025-12-04 09:05:42,794 - INFO - ç”Ÿæˆçš„æ±‡æ€»ä¿¡æ¯æ–‡æœ¬: ['ğŸ“Š å¬å½•éŸ³ç»Ÿè®¡æŠ¥è¡¨', 'ğŸ“… æ—¥æœŸ: 2025-12-03', '', '## ğŸ“ˆ æ±‡æ€»ä¿¡æ¯', '- **æ€»å¬å½•éŸ³æ¬¡æ•°**: 160', '- **å‚ä¸äººæ•°**: 8', '- **å¹³å‡æ¯äººå¬å½•éŸ³æ¬¡æ•°**: 20.0', '']
2025-12-04 09:05:42,795 - INFO - æ±‡æ€»ä¿¡æ¯å·²ä¿å­˜åˆ°: file\summary_20251203.txt
2025-12-04 09:05:42,795 - INFO - Generating image report...
2025-12-04 09:05:42,796 - INFO - PIL is available.
2025-12-04 09:05:42,881 - INFO - Saving image to file\table_20251203.png
2025-12-04 09:05:42,901 - INFO - Image saved to file\table_20251203.png
2025-12-04 09:05:42,901 - INFO - Saving JPEG version to file\table_20251203.jpg
2025-12-04 09:05:42,904 - INFO - JPEG version saved to file\table_20251203.jpg
2025-12-04 09:05:42,906 - INFO - è¡¨æ ¼å›¾ç‰‡å·²ä¿å­˜åˆ°: file\table_20251203.png
2025-12-04 09:05:42,906 - INFO - æ£€æµ‹åˆ°å›¾ç‰‡æŠ¥è¡¨ï¼Œå‡†å¤‡å‘é€å›¾ç‰‡
2025-12-04 09:05:42,906 - INFO - ä½¿ç”¨JPEGæ ¼å¼å›¾ç‰‡: file\table_20251203.jpg
2025-12-04 09:05:42,906 - INFO - ä¸Šä¼ å›¾ç‰‡è·å–media_id...
2025-12-04 09:05:43,332 - ERROR - å›¾ç‰‡ä¸Šä¼ å¤±è´¥ï¼ˆæ–¹å¼1ï¼‰: {'errcode': 40004, 'errmsg': 'invalid media type, hint: [1764810343194172202073449], from ip: 121.31.60.243, more info at https://open.work.weixin.qq.com/devtool/query?e=40004'}
2025-12-04 09:05:43,332 - ERROR - å›¾ç‰‡ä¸Šä¼ å¼‚å¸¸ï¼ˆæ–¹å¼2ï¼‰: list index out of range
2025-12-04 09:05:43,863 - INFO - å›¾ç‰‡ä¸Šä¼ æˆåŠŸï¼ˆæ–¹å¼3ï¼‰ï¼Œä½¿ç”¨base64æ–¹å¼
2025-12-04 09:05:43,863 - INFO - å›¾ç‰‡æŠ¥è¡¨å‘é€æˆåŠŸï¼ˆbase64æ–¹å¼ï¼‰
2025-12-04 09:05:43,863 - INFO - âœ“ æŠ¥è¡¨æˆåŠŸå‘é€åˆ°æµ‹è¯•ç¯å¢ƒ (webhook: https://qyapi.weixin.qq.com/cgi-bin/webhook/send?key=afa40fa...)
2025-12-04 09:05:43,863 - INFO - æ•°æ®åº“è¿æ¥å·²å…³é—­
2025-12-04 09:05:43,865 - INFO - 127.0.0.1 - - [04/Dec/2025 09:05:43] "POST /api/send-to-wecom HTTP/1.1" 200 -
