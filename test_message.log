2025-11-29 19:17:43,455 - INFO - æ•°æ®åº“åˆå§‹åŒ–æˆåŠŸ: data/wecom_bot.db
2025-11-29 19:17:43,463 - INFO - å¯åŠ¨WebæœåŠ¡å™¨...
2025-11-29 19:17:43,463 - INFO - æ•°æ®åº“è·¯å¾„: data/wecom_bot.db
2025-11-29 19:17:43,463 - INFO - ä¸Šä¼ ç›®å½•: file
2025-11-29 19:17:43,480 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://133.0.83.100:5000
2025-11-29 19:17:43,480 - INFO - [33mPress CTRL+C to quit[0m
2025-11-29 19:17:49,788 - INFO - 127.0.0.1 - - [29/Nov/2025 19:17:49] "GET / HTTP/1.1" 200 -
2025-11-29 19:17:49,809 - INFO - 127.0.0.1 - - [29/Nov/2025 19:17:49] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-11-29 19:17:50,028 - INFO - 127.0.0.1 - - [29/Nov/2025 19:17:50] "GET /static/js/app.js HTTP/1.1" 200 -
2025-11-29 19:17:50,378 - INFO - 127.0.0.1 - - [29/Nov/2025 19:17:50] "GET /api/files HTTP/1.1" 200 -
2025-11-29 19:17:50,379 - INFO - 127.0.0.1 - - [29/Nov/2025 19:17:50] "GET /api/schedule/status HTTP/1.1" 200 -
2025-11-29 19:17:54,809 - INFO - 127.0.0.1 - - [29/Nov/2025 19:17:54] "GET /api/reports/daily/2025-11-28 HTTP/1.1" 200 -
2025-11-29 19:18:01,714 - INFO - 127.0.0.1 - - [29/Nov/2025 19:18:01] "GET /api/reports/monthly/2025-11 HTTP/1.1" 200 -
2025-11-29 19:18:21,512 - INFO - 127.0.0.1 - - [29/Nov/2025 19:18:21] "POST /api/schedule/update HTTP/1.1" 200 -
2025-11-29 19:18:25,704 - INFO - 127.0.0.1 - - [29/Nov/2025 19:18:25] "POST /api/schedule/update HTTP/1.1" 200 -
2025-11-29 19:18:27,834 - INFO - 127.0.0.1 - - [29/Nov/2025 19:18:27] "POST /api/schedule/update HTTP/1.1" 200 -
2025-11-29 19:18:30,647 - INFO - 127.0.0.1 - - [29/Nov/2025 19:18:30] "[32mGET /logout HTTP/1.1[0m" 302 -
2025-11-29 19:18:30,731 - INFO - 127.0.0.1 - - [29/Nov/2025 19:18:30] "GET /login HTTP/1.1" 200 -
2025-11-29 19:18:42,820 - INFO - 127.0.0.1 - - [29/Nov/2025 19:18:42] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-11-29 19:18:43,018 - INFO - 127.0.0.1 - - [29/Nov/2025 19:18:43] "GET / HTTP/1.1" 200 -
2025-11-29 19:18:43,379 - INFO - 127.0.0.1 - - [29/Nov/2025 19:18:43] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-11-29 19:18:43,380 - INFO - 127.0.0.1 - - [29/Nov/2025 19:18:43] "[36mGET /static/js/app.js HTTP/1.1[0m" 304 -
2025-11-29 19:18:43,636 - INFO - 127.0.0.1 - - [29/Nov/2025 19:18:43] "GET /api/files HTTP/1.1" 200 -
2025-11-29 19:18:43,729 - INFO - 127.0.0.1 - - [29/Nov/2025 19:18:43] "GET /api/schedule/status HTTP/1.1" 200 -
2025-11-29 19:18:52,202 - INFO - 127.0.0.1 - - [29/Nov/2025 19:18:52] "GET /api/reports/monthly/2025-11 HTTP/1.1" 200 -
2025-11-29 19:18:54,888 - INFO - 127.0.0.1 - - [29/Nov/2025 19:18:54] "[33mGET /api/reports/daily/2025-11-29 HTTP/1.1[0m" 404 -
2025-11-29 19:18:57,911 - INFO - 127.0.0.1 - - [29/Nov/2025 19:18:57] "GET /api/reports/daily/2025-11-28 HTTP/1.1" 200 -
2025-11-29 19:21:42,036 - INFO - å·²åŠ è½½ 12 ä¸ªå›¢é˜Ÿæ˜ å°„
2025-11-29 19:21:42,037 - INFO - generate_report function called
2025-11-29 19:21:42,037 - INFO - report_data: {('ä¸€ç­2ç»„', 'é»„è®¾å’¸', 'KF77100085'): 55, ('ä¸€ç­3ç»„', 'å†œè¯—çª', 'KF77130101'): 33, ('äºŒç­1ç»„', 'é»„åˆšåˆš', 'KF77130134'): 30, ('äºŒç­3ç»„', 'å¢å¤§ä¼Ÿ', 'KF77130229'): 21, ('äºŒç­3ç»„', 'å§œé›ªè‰³', 'KF77100340'): 19, ('ä¸€ç­3ç»„', 'å‘¨ä¸½å©·', 'KF77130099'): 19, ('äºŒç­1ç»„', 'æ¨æ™¨æµ©', 'KF77130230'): 16, ('äºŒç­2ç»„', 'ä½•çµ', 'KF77171520'): 10, ('äºŒç­2ç»„', 'ææ–°ç£Š', 'KF77130170'): 2, ('ä¸€ç­1ç»„', 'é™ˆå¤å…°', 'KF77100020'): 1, ('ä¸€ç­1ç»„', 'éŸ¦æ™–', 'KF77130095'): 1}
2025-11-29 19:21:42,037 - INFO - report_date: 2025-11-28
2025-11-29 19:21:42,037 - INFO - total_operations: 207
2025-11-29 19:21:42,037 - INFO - ç”Ÿæˆçš„æ±‡æ€»ä¿¡æ¯æ–‡æœ¬: ['ğŸ“Š å¬å½•éŸ³ç»Ÿè®¡æŠ¥è¡¨', 'ğŸ“… æ—¥æœŸ: 2025-11-28', '', '## ğŸ“ˆ æ±‡æ€»ä¿¡æ¯', '- **æ€»å¬å½•éŸ³æ¬¡æ•°**: 207', '- **å‚ä¸äººæ•°**: 11', '- **å¹³å‡æ¯äººå¬å½•éŸ³æ¬¡æ•°**: 18.8', '']
2025-11-29 19:21:42,038 - INFO - æ±‡æ€»ä¿¡æ¯å·²ä¿å­˜åˆ°: file\summary_20251128.txt
2025-11-29 19:21:42,038 - INFO - Generating image report...
2025-11-29 19:21:42,038 - INFO - PIL is available.
2025-11-29 19:21:42,110 - INFO - Saving image to file\table_20251128.png
2025-11-29 19:21:42,160 - INFO - Image saved to file\table_20251128.png
2025-11-29 19:21:42,160 - INFO - Saving JPEG version to file\table_20251128.jpg
2025-11-29 19:21:42,166 - INFO - JPEG version saved to file\table_20251128.jpg
2025-11-29 19:21:42,167 - INFO - è¡¨æ ¼å›¾ç‰‡å·²ä¿å­˜åˆ°: file\table_20251128.png
2025-11-29 19:21:42,167 - INFO - æ£€æµ‹åˆ°å›¾ç‰‡æŠ¥è¡¨ï¼Œå‡†å¤‡å‘é€å›¾ç‰‡
2025-11-29 19:21:42,167 - INFO - ä½¿ç”¨JPEGæ ¼å¼å›¾ç‰‡: file\table_20251128.jpg
2025-11-29 19:21:42,167 - INFO - ä¸Šä¼ å›¾ç‰‡è·å–media_id...
2025-11-29 19:21:42,657 - ERROR - å›¾ç‰‡ä¸Šä¼ å¤±è´¥ï¼ˆæ–¹å¼1ï¼‰: {'errcode': 40004, 'errmsg': 'invalid media type, hint: [1764415304194171406512226], from ip: 121.31.60.243, more info at https://open.work.weixin.qq.com/devtool/query?e=40004'}
2025-11-29 19:21:42,657 - ERROR - å›¾ç‰‡ä¸Šä¼ å¼‚å¸¸ï¼ˆæ–¹å¼2ï¼‰: list index out of range
2025-11-29 19:21:43,216 - INFO - å›¾ç‰‡ä¸Šä¼ æˆåŠŸï¼ˆæ–¹å¼3ï¼‰ï¼Œä½¿ç”¨base64æ–¹å¼
2025-11-29 19:21:43,216 - INFO - å›¾ç‰‡æŠ¥è¡¨å‘é€æˆåŠŸï¼ˆbase64æ–¹å¼ï¼‰
2025-11-29 19:21:43,218 - INFO - 127.0.0.1 - - [29/Nov/2025 19:21:43] "POST /api/send-to-wecom HTTP/1.1" 200 -
2025-11-29 19:22:46,466 - INFO - 127.0.0.1 - - [29/Nov/2025 19:22:46] "GET / HTTP/1.1" 200 -
2025-11-29 19:22:46,492 - INFO - 127.0.0.1 - - [29/Nov/2025 19:22:46] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-11-29 19:22:46,734 - INFO - 127.0.0.1 - - [29/Nov/2025 19:22:46] "[36mGET /static/js/app.js HTTP/1.1[0m" 304 -
2025-11-29 19:22:47,102 - INFO - 127.0.0.1 - - [29/Nov/2025 19:22:47] "GET /api/schedule/status HTTP/1.1" 200 -
2025-11-29 19:22:47,103 - INFO - 127.0.0.1 - - [29/Nov/2025 19:22:47] "GET /api/files HTTP/1.1" 200 -
2025-11-29 19:22:52,386 - INFO - 127.0.0.1 - - [29/Nov/2025 19:22:52] "GET / HTTP/1.1" 200 -
2025-11-29 19:22:52,689 - INFO - 127.0.0.1 - - [29/Nov/2025 19:22:52] "[36mGET /static/css/style.css HTTP/1.1[0m" 304 -
2025-11-29 19:22:52,753 - INFO - 127.0.0.1 - - [29/Nov/2025 19:22:52] "[36mGET /static/js/app.js HTTP/1.1[0m" 304 -
2025-11-29 19:22:53,076 - INFO - 127.0.0.1 - - [29/Nov/2025 19:22:53] "GET /api/schedule/status HTTP/1.1" 200 -
2025-11-29 19:22:53,077 - INFO - 127.0.0.1 - - [29/Nov/2025 19:22:53] "GET /api/files HTTP/1.1" 200 -
